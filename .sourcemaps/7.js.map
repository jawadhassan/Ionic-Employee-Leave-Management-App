{"version":3,"sources":["../../src/pages/edit-employee/edit-employee.module.ts","../../src/pages/edit-employee/edit-employee.ts"],"names":[],"mappings":"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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditEmployeePage } from './edit-employee';\n\n@NgModule({\n  declarations: [\n    EditEmployeePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EditEmployeePage),\n  ],\n})\nexport class EditEmployeePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-employee/edit-employee.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController,AlertController, LoadingController, Loading, NavParams } from 'ionic-angular';\nimport { ToastController } from 'ionic-angular';\nimport {RestProvider} from '../../providers/rest/rest';\nimport { FormControl, FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\n/**\n * Generated class for the EditEmployeePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-edit-employee',\n  templateUrl: 'edit-employee.html',\n})\nexport class EditEmployeePage {\n\n  data = {id:0,name:\"\",lastname:\"\",contact:\"\",designation:\"\",email:\"\",password:\"\",avatar:\"\"};\n  editForm : FormGroup;\n  employee;\n  placeholder= 'assets/imgs/blank-avatar.jpg';\n  loading:Loading;\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private toastCtrl: ToastController,\n    private camera: Camera,\n    private alertCtrl: AlertController,\n    private loadingCtrl: LoadingController,\n    public restProvider : RestProvider,\n    public formBuilder : FormBuilder) {\n    //this.getCurrentData(navParams.get(\"id\"));\n    this.data.id = this.navParams.get('employee').id;\n    this.data.name = this.navParams.get('employee').name;\n    this.data.lastname = this.navParams.get('employee').lastname;\n    this.data.contact = this.navParams.get('employee').contact;\n    this.data.designation = this.navParams.get('employee').designation;\n    this.data.avatar = this.navParams.get('employee').avatar;\n    console.log(\"Check Email\"+this.navParams.get('employee').email);\n    this.data.email = this.navParams.get('employee').usermail;\n    this.data.password = this.navParams.get('employee').password;\n    \n    this.employee = this.navParams.get('employee');\n\n    this.editForm = formBuilder.group({\n      name:['',Validators.compose([Validators.required])],\n      lastname : ['',Validators.compose([Validators.required])],\n      contact:['',Validators.compose([Validators.required])],\n      designation:['',Validators.compose([Validators.required])],\n      email: ['', Validators.compose([Validators.required])],\n      password: ['', Validators.compose([Validators.required])],\n      id:['',Validators.compose([Validators.required])]\n\n    });\n  }\n\n  /* getCurrentData(id){\n    this.sqlite.create({\n      name:'check.db',\n      location:'default'\n    }).then((db:SQLiteObject)=>{\n      db.executeSql('SELECT id,name,lastname,contact,designation FROM EMPLOYEES WHERE id=?',[id])\n      .then(res=>{\n        console.log(\"in edit employee current data\")\n        if(res.rows.length> 0){\n          this.data.id = res.rows.item(0).id;\n          this.data.name = res.rows.item(0).name;\n          this.data.lastname = res.rows.item(0).lastname;\n          this.data.contact = res.rows.item(0).contact;\n          this.data.designation = res.rows.item(0).designation;\n        }\n      })\n      .catch(e=>{\n        console.log(e);\n        this.toast.show(\"Error Failed to view Employee\",'5000','center')\n        .subscribe(\n          toast => {\n            console.log(toast);\n          }\n        );\n      });\n    }).catch(e=>{\n      console.log(e);\n      this.toast.show('Error!','5000','center')\n      .subscribe(\n        toast => {\n          console.log(toast);\n        }\n      );\n    });\n  } */\n\n  /* updateData(){\n    this.sqlite.create({\n      name:'check.db',\n      location:'default'\n    }).then((db:SQLiteObject)=>{\n      db.executeSql('UPDATE EMPLOYEES SET name=?,lastname=?,contact=?,designation=? WHERE id=?',[this.data.name,this.data.lastname,this.data.contact,this.data.designation,this.data.id])\n      .then(res=>{\n        console.log(res);\n        this.toast.show('Employee Updated!','4000','center')\n        .subscribe(\n           toast=>{\n              console.log(res);\n           }\n        );\n        this.navCtrl.pop();\n      })\n      .catch(e=>{\n        this.toast.show(\"Error in updating\",'5000','center')\n        .subscribe(\n          toast => {\n            console.log(toast);\n          }\n        );\n      });\n    }).catch(e=>{\n      this.toast.show(\"Error!\",'5000','center').subscribe(\n        toast=> {\n          console.log(toast);\n        }\n      )\n    })\n  } */\n\n  updateData(){\n    this.showLoading();\n    console.log('update Data called');\n    this.restProvider.editEmployee(this.data).then(res =>{      \n      console.log(res);\n      let toast = this.toastCtrl.create({\n        message: 'User was updated successfully',\n        duration: 3000,\n        position: 'bottom'\n      });\n    \n      toast.onDidDismiss(() => {\n        console.log('Dismissed toast');\n      });\n    \n      toast.present();\n      this.navCtrl.popToRoot();\n  },\n  error => {\n    this.showError(error);\n  })\n\n  }\n\n  showLoading() {\n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...',\n      dismissOnPageChange: true\n    });\n    this.loading.present();\n  }\n\n  showError(text) {\n    this.loading.dismiss();\n\n    let alert = this.alertCtrl.create({\n      title: 'Fail',\n      subTitle: text,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n\n\n  getPhoto(){\n\n    console.log(\"In get Photo Method\");\n     const options: CameraOptions = {\n      quality: 100,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE\n    } \n    \n  /*   this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.CAMERA).then(\n      result => console.log('Has permission?',result.hasPermission),\n      err => {\n        console.log(\"No Permission\");\n        this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.CAMERA)}\n    );  */\n  \n    \n     \n      \n      this.camera.getPicture(options).then((imageData) => {\n        // imageData is either a base64 encoded string or a file URI\n        // If it's base64 (DATA_URL):\n         console.log(\"Check Image\"+imageData);\n         this.data.avatar =  \"data:image/jpeg;base64,\" + imageData;\n       }, (err) => {\n         console.log(\"Check Error Red\"+err);\n        // Handle error\n       });\n    \n    \n  } \n\n  ionViewDidLoad() {\n   \n    console.log('ionViewDidLoad EditEmployeePage');\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-employee/edit-employee.ts"],"sourceRoot":""}